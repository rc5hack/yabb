<!DOCTYPE html>
<html lang='en-US'>
<head>
<!-- YaBB 2.5.2 $Revision: 1.0 $ -->
<title>YaBB Quick Start Guide - Upgrading your YaBB 2.x</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" href="../../style.css" type="text/css" />
</head>
<body>
<div id="header"><a href="http://www.yabbforum.com/community/" title="Support Forum">Support Forums</a> | <a href="http://www.yabbforum.com/contribute.php" title="Help keep YaBB going strong!">Donate to YaBB</a></div>
<div id="content">
		<div class="shead">
		<div class="lang">
			<span><a href="../../English/index.html" title="Switch to English Guide"><img src="../../images/English.gif" alt="Switch to English Guide" title="Switch to English Guide" /></a></span>
		</div>
		<div class="logo"><img src="../../images/yabblogo.png" alt="YaBB - Yet another Bulletin Board!" title="YaBB - Yet another Bulletin Board!" /></div>
		<div class="title"><img src="../../images/qgtitle.png" alt="YaBB Quick Start Guide" title="YaBB Quick Start Guide" /></div>
		<div class="spc"></div>
	</div>
	<div class="subs">
		<div class="menu">
			<ul>
				<li><a href="../index.html">Introduction</a></li>
				<li><span>Installation</span></li>
				<li><a href="../install/before.html">Before Installing</a></li>
				<li><a href="../install/1.html">Step 1 - Editing</a></li>
				<li><a href="../install/2.html">Step 2 - Uploading</a></li>
				<li><a href="../install/3.html">Step 3 - CHMOD</a></li>
				<li><a href="../install/setup.html">Step 4 - Setting Up</a></li>
				<li><span><a href="../extras/index.html">Converting</a></span></li>
				<li><a href="../extras/upgradeY1.html">Upgrading YaBB 1</a></li>
				<li><a href="../extras/upgradeY2.html">Upgrading YaBB 2</a></li>
				<li><a href="../extras/upgradeY24.html">Upgrading YaBB 2.4/2.5</a></li>
				<li><a href="../extras/troubleshooting.html">Troubleshooting</a></li>
				<li><span>Other</span></li>
				<li><a href="../info/license.html">License</a></li>
				<li><a href="../info/credits.html">Credits</a></li>
			</ul>
		</div>
		<div class="body">
			<h3>Upgrading from YaBB 2.x</h3>
			<p><img src="../../images/convert-y2.png" alt="The Setup Screen" title="The Setup Screen" class="setup" />If you are upgrading your existing YaBB 2 installation, there are a few simple steps that need to be taken in order to correctly complete the process. Before you begin, however, make sure you have a <b>full backup of your working YaBB</b>. It is also advisable to inform your users that you will be upgrading before you begin.</p>
			<p>As soon as you are ready, place your existing forum into maintenance mode. In YaBB 2.1 go into your Admin Center under the section titled "Forum Configuration", click the link "Forum Settings". There you will see a checkbox with the label "Maintenance Mode". Check this box and save the change. In YaBB 2.2.x, once in Admin Center, scroll down the left side Menu, click on "Maintenance Settings", check "Maintenance Mode?" and save the change.</p>
			<h4>Upgrading</h4>
			<ol>
				<li><b>You will need to install a completely new version of YaBB 2.5.2 forum first!</b></li>
				<li>Go to the Installation section of this Quick Guide and follow all steps up through "Step 4 - Setting Up", including point 5 (which has you run the Setup program on the new forum). Then return here to the next step below.</li>
				<li>Your NEW forum is already in Maintenance Mode now, leave it that way while you complete the following steps.</li>
				<li>Be sure your OLD forum is in Maintenance Mode too.<br />Versions 2.2 and later are described above, versions 2.1 and earlier, the Maintenance Mode setting is at the top of the Forum Configuration/Forum Settings page.</li>
				<li>Using your FTP program or File Manager, copy the following files from your <i>OLD</i> forum into the same folders in your <i>NEW</i> forum:
					<ul style="margin-left:0px;">
						<li>cgi-bin/yabb2/Boards/* (all files)</li>
						<li>cgi-bin/yabb2/Members/* (all files)</li>
						<li>cgi-bin/yabb2/Messages/* (all files)</li>
						<li>public_html/yabbfiles/Attachments/* (all files)<br />
						<li>public_html/yabbfiles/avatars/UserAvatars/* (all files)<br />
						<b><span class="underline">Note:</span></b><br />
						If your forum is very large it may take a long time to copy all the files from the five folders above. In this case it may be easier to just move the old folders from your <i>old</i> forum to the <i>new</i> forum. To do that, first verify your <i>old</i> forum's three cgi-bin folders each contain a <i>.htaccess</i> file and a <i>default.html</i> or <i>index.html</i> file and that 'public_html/yabbfiles/Attachments/' contains either a <i>default.html</i> or an <i>index.html</i> file. If not, copy these files from your <i>new</i> forum's folders into the <i>old</i> forum's folders, then delete the five folders in your <i>new</i> forum and move the <i>old</i> folders to the <i>new</i> forum.<br /><br /></li>
						<li>cgi-bin/yabb2/Variables/* all files <b>EXCEPT the following files</b>:
							<ul>
								<li>Menu0.def, Menu1.def, Menu2.def</li>
								<li>*.helporder (all files with this extension. Note: Your version may not contain these files.)</li>
								<li>advsettings.txt</li>
								<li>secsettings.txt</li>
								<li>Settings.pl</li>
							</ul><br />
							Now copy the following files to a separate folder and rename them as it is shown here:
							<ul>
								<li>advsettings.txt =&gt; upgrade_advsettings.txt</li>
								<li>secsettings.txt =&gt; upgrade_secsettings.txt</li>
								<li>Settings.pl =&gt; upgrade_Settings.pl</li>
							</ul>
							then move the renamed files into cgi-bin/yabb2/Variables/ of your <i>new</i> forum.<br /><br />
						</li>
			 			<li>If you have any special template files, you may wish to upload those files also, but they will need some modification before they will work properly with YaBB 2.5.2.<br />
						<b><span class="underline">Note:</span></b><br />
						If you plan on keeping your old YaBB 2.x Templates and CSS settings, <b>do not copy over the new template files with older templates of the same file name</b> or you will not get what you expect. These files have changed, so you will either have to modify the new template/css files that come with YaBB 2.5.2, or follow the procedures in the link below to update your existing template files before overwriting the YaBB 2.5.2 template/css files.<br />We recommend you create a new folder in your new forum: cgi-bin/yabb2/Templates/<i>new_folder_name</i>/ and put your old template files (html) in it. Now rename the .html file to <i>new_folder_name</i>.html. Rename also your old CSS file to <i>new_folder_name</i>.css and put it in the public_html/yabbfiles/Templates/Forum/ directory. Repeat this for each of your existing custom templates in your old forum. Note that the CSS files may contain links to graphics that are now in a renamed folder. Change those links to point to the new_folder_name.<br />
<a href="http://codex.yabbforum.com/YaBB.pl?num=1223136303/0#0" target="_blank">Template and CSS Comparisons from earlier versions of YaBB</a>. One more edit: in your old css files you will need to add one additional class tag for the anti-spam Honeypot. Add:<br /><span style="font-family:Courier, monospace">".green {<br />display:none;<br />}"</span><br />to <b>every</b> template/css file. If you have a preexisting class with that name, it will need to be renamed. Custom 2.5AE Templates should need no editing aside from adding the ".green" class to the template/css files.</li>
					</ul>
				</li>
				<li>Open FixFile.pl inside a text editor and change the path to Perl to match your server's requirements. Then point your browser to FixFile.pl (ie. http://www.example.com/cgi-bin/yabb2/FixFile.pl) and run the FixFile utility. This will update the file structure for your YaBB 2 data. If not, skip to step 9.</li>
				<li>As soon as FixFile.pl has finished, delete that file so it cannot be run again.</li>
				<li>Now verify CHMODs for all your imported files.</li>
				<li>Log in your new forum as Administrator with the Admin username and password you used in your old forum and go <span class="underline">directly</span> to the "Admin Center" =&gt; "Forum Settings".<br />  Note: doing ANY upgrade, it is very important to change the install date in the Admin Center &gt; Forum Settings to a date and time "before" the older forums oldest member registration.  If not done, Search will not function and the possibility of causing ex-members being generated. Save this page once with the Button at the bottom.</li>
				<li>Then go to "Admin Center" =&gt; "Maintenance Controls" and <b>run the "Rebuild Notifications Files" first!</b><br />Now run the other Maintenance Controls starting with "Rebuild Message Index" going through "Rebuild Members History."</li>
			</ol>

		</div>
		<div class="clr"></div>
	</div>
</div>
<div id="footer"></div>

</body>
</html>